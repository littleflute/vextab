<html><head>  <title>VexTab Playground</title>
 
<!-- Support Sources -->
  <script src="https://littleflute.github.io/vc6/XdHtml/blclass.js"></script>
  <script src="../releases/vextab-div.js"></script>;
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.2.1/lodash.js"></script>
  <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
</head>


<body>

  
  <div style="float:left;display:none;">

    <textarea id="blah0">options scale=1.0 space=20 tab-stems=true stave-distance=40 tab-stem-direction=down
tabstave notation=true key=A time=4/4
notes :q =|: (5/2.5/3.7/4) :8 7-5h6/3 ^3^ 5h6-7/5 ^3^ :q 7V/4 |
notes :8 t12p7/4 s5s3/4 :8 3s:16:5-7/5 :h p5/4
text :w, |#segno, ,|, :hd, , #tr


options space=65
tabstave notation=true
notes :q (5/4.5/5) (7/4.7/5)s(5/4.5/5) ^3^
notes :8 7-5/4 $.a./b.$ (5/4.5/5)h(7/5) =:|
notes :8 (12/5.12/4)ds(5/5.5/4)u 3b4/5
notes :h (5V/6.5/4.6/3.7/2) $.italic.let ring$ =|=
text :h, ,.font=Times-12-italic, D.S. al coda, |#coda
text :h, ,.-1, .font=Arial-14-bold,A13
text ++, .30, #f

options space=70</textarea>
  </div>


<script>

function _blUIClass (v) {
  function _init (v) {

	var s0 ='<div id="id_div_toolbar">';
	s0 += '<a target="_blank" href="https://github.com/littleflute/vextab/edit/master/tests/blclassTest.html">';
	s0 += v;
	s0 += '</a>';
	s0 += '</div>';
	var d = blo0.blMDiv(document.body,"id_blClassDiv_4_wrap1",s0,10,10,500,200,"gold");
	d.tb = bl$("id_div_toolbar");
	d.tb.b1 = blo0.blBtn(d.tb,d.tb.id+"b1","b1",blGrey[0]);
	d.tb.b1.onclick = function(){alert(1);};

	var s = '<canvas id="boo"></canvas>';
	s += '<div id="error"></div>';
 

	var d1 = blo0.blDiv(d,"id_div_4_vextab",s,"gray");
 
	var dt = blo0.blMDiv(document.body,"id_blClassDiv_4_wrap2",s0,800,10,500,200,"brown");

	var dt1 = blo0.blDiv(dt,"id_div_4_ta",s,"lightblue");
  
	var ta = blo0.blTextarea(dt1,"blah","",blColor[4]);ta.style.width="100%",ta.style.height="200px";
	var ta0= bl$("blah0"); 
	ta.value = ta0.value;
  }
  _init(v);

  this.blRun = function(){
  }
}


</script>
<script>
 
        
    // Load VexTab module.
    
vextab = VexTabDiv;

$(function() {
      var blco = new _blUIClass ("v0.0.155");  
      
      VexTab = vextab.VexTab;

      Artist = vextab.Artist;

      Renderer = Vex.Flow.Renderer;


      Artist.DEBUG = true;

      VexTab.DEBUG = false;


      // Create VexFlow Renderer from canvas element with id #boo

      renderer = new Renderer($('#boo')[0], Renderer.Backends.CANVAS);


      // Initialize VexTab artist and parser.

      artist = new Artist(10, 10, 600, {scale: 0.8});

      vextab = new VexTab(artist);


      function render( idParse , idError ) {

        try {

          vextab.reset();

          artist.reset();

          vextab.parse($(idParse ).val());

          artist.render(renderer);

          $(idError).text("");

        } catch (e) {

          console.log(e);

          $(idError).html(e.message.replace(/[\n]/g, '<br/>'));

        }

      }


      $("#blah").keyup(_.throttle(render, 250));

      render("#blah","#error");

    });
  
</script>


</body>

</html>
